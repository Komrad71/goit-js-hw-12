{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '47085214-4cff0ba1bb96c64321ec3a8d9';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  try {\n\n    const params = new URLSearchParams({\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      page: page,\n      per_page: perPage,\n    });\n\n    const response = await fetch(`${BASE_URL}?${params.toString()}`);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch images');\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// npm install izitoast --save\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// npm install simplelightbox\n\nconst galleryEl = document.querySelector(\".gallery\");\n\nexport function renderGallery(images) {\n  // Замінюємо вміст галереї на нові зображення\n  galleryEl.innerHTML = images.map(createImageCardMarkup).join(\"\");\n  \nnew SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250  // Затримка перед показом підпису\n}).refresh();\n}\n\nfunction createImageCardMarkup(image) {\n  return `\n    <a href=\"${image.largeImageURL}\" class=\"gallery_item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery_image\" width=\"380\"/>\n      <div class=\"info\">\n        <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>\n        <p class=\"info-item\"><b>Views:</b> ${image.views}</p>\n        <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>\n        <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    </a>\n  `;\n}\n\n// {/* <div class=\"gallery\">\n//     <a href=\"images/image1.jpg\"><img src=\"images/thumbs/thumb1.jpg\" alt=\"\" title=\"\"/></a>\n//     <a href=\"images/image2.jpg\"><img src=\"images/thumbs/thumb2.jpg\" alt=\"\" title=\"Beautiful Image\"/></a>\n// </div> */}\n\n// // Допоміжна функція, яка створює HTML-розмітку для кожного зображення\n// function createImageCardMarkup({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) {\n//   return `\n//     <a href=\"${largeImageURL}\" class=\"gallery__item\">\n//       <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n//       <div class=\"info\">\n//         <p class=\"info-item\"><b>Likes</b>${likes}</p>\n//         <p class=\"info-item\"><b>Views</b>${views}</p>\n//         <p class=\"info-item\"><b>Comments</b>${comments}</p>\n//         <p class=\"info-item\"><b>Downloads</b>${downloads}</p>\n//       </div>\n//     </a>\n//   `;\n// }\n\n// виводимо повідомлення - пошук не дав результатів\nexport function showNoResultsMessage() {\n  // виводимо повідомлення про помилку\n  iziToast.error({ \n    title: \"Error\", \n    message: \"Sorry, there are no images matching your search query. Please try again!\",\n    position: 'topRight' \n  });\n}\n// Функція очищення галереї\nexport function clearGallery() {\n  galleryEl.innerHTML = \"\";\n}","// Імпортуємо функції\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderGallery } from \"./js/render-functions\";\nimport { showNoResultsMessage } from \"./js/render-functions\";\nimport { clearGallery } from \"./js/render-functions\";\n\nconst loader = document.querySelector('.loader');\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", async (event) => {\n   // Скасовуємо перезавантаження сторінки\n  event.preventDefault();\n\n  const searchQuery = event.target.elements.query.value.trim();\n  if (!searchQuery) {\n    return showError(\"Please enter your request\");\n  }\n\n  clearGallery();\n  toggleLoader(true);\n\n  try {\n    const data = await fetchImages(searchQuery);\n    if (data.hits && data.hits.length) {\n      renderGallery(data.hits);\n    } else {\n      showNoResultsMessage();\n    }\n  } catch (error) {\n    console.error(error); // Виведення помилки в консоль\n    showError(\"Something went wrong. Please try again!\");\n  } finally {\n    toggleLoader(false);\n  }\n});\n\nfunction showError(message) {\n  iziToast.error({ title: \"Error\", message });\n}\n\n// Функція для відображення/приховування індикатора завантаження\nfunction toggleLoader(isVisible) {\n  loader.style.display = isVisible ? \"block\" : \"none\";\n}\n"],"names":["BASE_URL","API_KEY","fetchImages","query","page","perPage","params","response","error","galleryEl","renderGallery","images","createImageCardMarkup","SimpleLightbox","image","showNoResultsMessage","iziToast","clearGallery","loader","form","event","searchQuery","showError","toggleLoader","data","message","isVisible"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,GAAI,CAEF,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKL,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAUC,CAChB,CAAK,EAEKE,EAAW,MAAM,MAAM,GAAGP,CAAQ,IAAIM,EAAO,UAAU,EAAE,EAE/D,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OADa,MAAMA,EAAS,MAE7B,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCfA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAE5C,SAASC,EAAcC,EAAQ,CAEpCF,EAAU,UAAYE,EAAO,IAAIC,CAAqB,EAAE,KAAK,EAAE,EAEjE,IAAIC,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GAChB,CAAC,EAAE,QAAO,CACV,CAEA,SAASD,EAAsBE,EAAO,CACpC,MAAO;AAAA,eACMA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,6CAEXA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,gDACRA,EAAM,QAAQ;AAAA,iDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIhE,CAuBO,SAASC,GAAuB,CAErCC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UACd,CAAG,CACH,CAEO,SAASC,GAAe,CAC7BR,EAAU,UAAY,EACxB,CChEA,MAAMS,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAOC,GAAU,CAE/CA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,MAAM,MAAM,OACtD,GAAI,CAACC,EACH,OAAOC,EAAU,2BAA2B,EAG9CL,IACAM,EAAa,EAAI,EAEjB,GAAI,CACF,MAAMC,EAAO,MAAMtB,EAAYmB,CAAW,EACtCG,EAAK,MAAQA,EAAK,KAAK,OACzBd,EAAcc,EAAK,IAAI,EAEvBT,GAEH,OAAQP,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBc,EAAU,yCAAyC,CACvD,QAAY,CACRC,EAAa,EAAK,CACnB,CACH,CAAC,EAED,SAASD,EAAUG,EAAS,CAC1B,SAAS,MAAM,CAAE,MAAO,QAAS,QAAAA,CAAS,CAAA,CAC5C,CAGA,SAASF,EAAaG,EAAW,CAC/BR,EAAO,MAAM,QAAUQ,EAAY,QAAU,MAC/C"}